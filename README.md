# YaMDb ‚Äî API –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–±–æ—Ä–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (—Ñ–∏–ª—å–º—ã, –∫–Ω–∏–≥–∏, –º—É–∑—ã–∫—É).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –ë—ç–∫–µ–Ω–¥
- **–Ø–∑—ã–∫**: Python 3.9+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Django 3.2+ + Django REST Framework
  - ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
  - JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
  - REST API —Å OpenAPI 3.0 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
  - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
  - –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  - –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üìù –û—Ç–∑—ã–≤—ã –∏ –æ—Ü–µ–Ω–∫–∏:
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã –∏ —Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è–º (1-10)
  - –°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üîê –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π:
  - –ê–Ω–æ–Ω–∏–º: —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: CRUD –¥–ª—è —Å–≤–æ–∏—Ö –æ—Ç–∑—ã–≤–æ–≤/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
  - –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª—é–±—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
  - –ê–¥–º–∏–Ω: –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ API
- üí¨ –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –æ—Ç–∑—ã–≤–∞–º —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º:
  - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (–ö–Ω–∏–≥–∏, –§–∏–ª—å–º—ã –∏ —Ç.–¥.)
  - –ñ–∞–Ω—Ä—ã (–î—Ä–∞–º–∞, –ö–æ–º–∏–∫—Å –∏ —Ç.–¥.)
  - –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–≥–æ–¥—É/–∂–∞–Ω—Ä—É

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- JWT-—Ç–æ–∫–µ–Ω—ã (access/refresh)
- –ó–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ API

## üñ• –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

```bash
git clone https://github.com/Frenky19/api_yamdb.git
```
```bash
cd api_yamdb
```

2. –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

```bash
python -m venv env
```
```bash
source env/bin/activate  # Linux
source env/scripts/activate  # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
python -m pip install --upgrade pip
```
```bash
pip install -r requirements.txt
```

4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
python manage.py migrate
```

5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ csv —Ñ–∞–π–ª–æ–≤ –≤ –±–¥:

```bash
python manage.py import_csv
```

6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç:

```bash
python manage.py runserver
```

## üì° –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã API


| –ú–µ—Ç–æ–¥  | –ü—É—Ç—å                   | –û–ø–∏—Å–∞–Ω–∏–µ                     | –î–æ—Å—Ç—É–ø         |
|--------|------------------------|------------------------------|----------------|
| POST   | `/auth/signup/`        | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email         | –í—Å–µ            |
| POST   | `/auth/token/`         | –ü–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞         | –í—Å–µ            |
| GET    | `/titles/`             | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π          | –í—Å–µ            |
| POST   | `/titles/{id}/reviews/`| –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤                | –ê—É—Ç–µ–Ω—Ç–∏—Ñ.      |
| PATCH  | `/users/me/`           | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å             | –í–ª–∞–¥–µ–ª–µ—Ü       |

## üóÑ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

```python
class User(AbstractUser):
    email = models.EmailField('–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞', max_length=254, unique=True)
    bio = models.TextField('–ë–∏–æ–≥—Ä–∞—Ñ–∏—è', blank=True)
    role = models.CharField('–†–æ–ª—å', max_length=20, choices=ROLE_CHOICES, default='user')
    confirmation_code = models.CharField('–ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è', max_length=16, blank=True)
    ...–¥—Ä—É–≥–∏–µ –ø–æ–ª—è

class Title(models.Model):
    name = models.CharField('–Ω–∞–∑–≤–∞–Ω–∏–µ', max_length=200, db_index=True)
    year = models.IntegerField('–≥–æ–¥', validators=(validate_year, ))
    category = models.ForeignKey(Category, on_delete=models.SET_NULL, verbose_name='–∫–∞—Ç–µ–≥–æ—Ä–∏—è', null=True, blank=True)
    ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è

class Review(models.Model):
    title = models.ForeignKey(Title, on_delete=models.CASCADE, verbose_name='–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ')
    text = models.CharField(max_length=200)
    author = models.ForeignKey(User, on_delete=models.CASCADE, verbose_name='–∞–≤—Ç–æ—Ä', null=True)
    score = models.IntegerField('–æ—Ü–µ–Ω–∫–∞', validators=(MinValueValidator(1), MaxValueValidator(10))),
    ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

    –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Django ORM

    –ü–∞–≥–∏–Ω–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (10 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)

    # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (Redis –≤ –ø–ª–∞–Ω–∞—Ö)

## –ê–≤—Ç–æ—Ä—ã
- [–ê–Ω–¥—Ä–µ–π –ì–æ–ª–æ–≤—É—à–∫–∏–Ω / Andrey Golovushkin](https://github.com/Frenky19)

- [–î–∂–∞–º–∞–ª –•–∞–º–∑–∞–µ–≤](https://github.com/khamzaev)

- [–ú–∞—Ä–∏—è –ö–æ–≤–∞–ª–µ–≤–∞](https://github.com/Mary-Kovaleva)